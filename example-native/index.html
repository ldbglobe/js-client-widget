<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<script src="../dist/ClientComponent.js"></script>
</head>
<body>
	<script>
	var counter = [0,0];
	var client0 = new ClientComponent({widgetUrl:'widget.html', widgetLimit:2 });
	client0.on('counter++',function(){counter[0]++; refresh(); })
	client0.on('counter--',function(){counter[0]--; refresh(); })

	var client1 = new ClientComponent({widgetUrl:'widget.html', widgetLimit:2 });
	client1.on('counter++',function(){counter[1]++; refresh(); })
	client1.on('counter--',function(){counter[1]--; refresh(); })

	function refresh(){
		document.querySelector('.counter0').innerHTML = counter[0];
		document.querySelector('.counter1').innerHTML = counter[1];
	}
	</script>
	<div>
		<button onclick="client0.open({},'This message was send by the client after widget.ready event');">Open</button>
		<span class="counter0">0</span>
	</div>
	<div>
		<button onclick="client1.open();">Open</button>
		<span class="counter1">0</span>
	</div>
</body>
</html>