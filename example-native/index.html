<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<script src="../dist/ClientComponent.js"></script>
</head>
<body>
	<script>
	var counter = [0,0];
	var client0 = new ClientComponent({widgetUrl:'widget.html', widgetLimit:2 });
	client0.on('counter++',function(){counter[0]++; refresh(); })
	client0.on('counter--',function(){counter[0]--; refresh(); })

	var client1 = new ClientComponent({widgetUrl:'widget.html', widgetLimit:2 });
	client1.on('counter++',function(){counter[1]++; refresh(); })
	client1.on('counter--',function(){counter[1]--; refresh(); })

	function refresh(){
		document.querySelector('.counter0').innerHTML = counter[0];
		document.querySelector('.counter1').innerHTML = counter[1];
	}

	var initial_data = {
		what_is_it:'here are the data send by the client after widget initialisation',
		when_those_data_are_sent:'when the widget class is instantiated is opened it send a "widget.ready" event to the client',
		and_host_the_client_sent_data_back:'the client sens data to the widget with a "client.postDefaults" event',
		what_type_of_data_can_i_send:'Any JSON format complatible data',
		and_now_here_my_sample_data:'... wait for it',
		sample: {
			message:'Somewhere over the yellow brick road<br>ğŸ‘§ğŸ¥¿ğŸŒªï¸ğŸ¦ğŸ¤–ğŸ§‘â€ğŸŒ¾ğŸ§™'
		}
	}
	</script>
	<div>
		<button onclick="client0.open({width:400,height:300},initial_data);">Open</button>
		<span class="counter0">0</span>
	</div>
	<div>
		<button onclick="client1.open();">Open</button>
		<span class="counter1">0</span>
	</div>
</body>
</html>